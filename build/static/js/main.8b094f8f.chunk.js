(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{10:function(e,t,n){e.exports={main:"styles_main__1CxvR"}},13:function(e,t,n){e.exports={customselect:"styles_customselect__3Pvtq"}},18:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(9),c=n.n(s),i=(n(18),n(0)),o=function(){return Object(i.jsx)("div",{})},l=function(){return Object(i.jsx)("div",{})},u=n(10),d=n.n(u),j=n(8),p=n(5),b=n(2),O=n(11),h=function(e){var t=e.chartData,n=e.width,r=Object(a.useState)(""),s=Object(b.a)(r,2),c=s[0],o=s[1];Object(a.useEffect)((function(){o("68em")}),[n]);var l=[[{type:"string",id:"Stream"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(Object(p.a)(t));return Object(i.jsx)(i.Fragment,{children:c?Object(i.jsx)(O.a,{width:c,height:"300px",chartType:"Timeline",loader:Object(i.jsx)("div",{children:"Loading Chart"}),data:l,options:{chartArea:{width:"100%"}},rootProps:{"data-testid":"1"}}):null})};var m=function(){var e=Object(a.useState)([window.innerHeight,window.innerWidth]),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){r([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n},x=n(3),f=n.n(x),v=n(13),g=n.n(v),_=function(e){return"string"===typeof e||"number"===typeof e};var y=function(e){var t=e.value,n=e.onChange,a=e.options,r=e.mapOptionToLabel,s=e.mapOptionToValue,c=function(e){return s?s(e):_(e)?e:String(e)};return Object(i.jsxs)("select",{value:c(t),onChange:function(e){n(a[e.target.selectedIndex])},className:g.a.customselect,children:[Object(i.jsx)("option",{value:"none",children:"Select"}),a.map((function(e){return Object(i.jsx)("option",{value:c(e),children:(t=e,r?r(t):_(t)?t:String(t))},c(e));var t}))]})},w=function(){var e=m(),t=Object(b.a)(e,1)[0],n=Object(a.useState)(""),r=Object(b.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)(""),l=Object(b.a)(o,2),u=l[0],d=l[1],O=Object(a.useState)(!1),x=Object(b.a)(O,2),v=x[0],g=x[1],_=Object(a.useState)([]),w=Object(b.a)(_,2),S=w[0],T=w[1],N=Object(a.useState)([]),F=Object(b.a)(N,2),I=F[0],C=F[1],E=Object(a.useState)(),k=Object(b.a)(E,2),D=k[0],L=k[1],W=Object(a.useState)(),P=Object(b.a)(W,2),z=P[0],A=P[1],H=0,J=0;Object(a.useEffect)((function(){q()}),[S]),Object(a.useEffect)((function(){setTimeout((function(){g(!1)}),3e3)}),[v]);var M=Object.keys(S),R=function(e){for(var t=[],n=new Date,a=0;a<1440;a+=e)n.setHours(0),n.setMinutes(a),t.push(n.toLocaleTimeString([],{hour:"numeric",minute:"numeric"}));return t}(15),B=function(e,t){"start"===e?c(t):d(t)},V=function(e){e.stopPropagation();var t=e.currentTarget.getAttribute("data-index"),n=Object(p.a)(S);n.splice(t,1),L(0),A(0),T(n)},Z=S?Object.keys(S).map((function(e){return{stream:e,period:S[e]}})):null,q=function(){var e=[];Object.entries(Z).map((function(t){var n=Object(b.a)(t,2),a=(n[0],n[1]),r=a.period.start.split(":"),s=parseInt(r[0]),c=parseInt(r[1]),i=a.period.stop.split(":"),o=parseInt(i[0]),l=parseInt(i[1]);return e.push([a.period.stream,new Date(0,0,0,s,c,0),new Date(0,0,0,o,l,0)]),C(e),null})),K(S)},X=function(e){L(H+=e)},G=function(e){var t=e.split(":"),n=Object(b.a)(t,2),a=n[0],r=n[1];return 60*Number(a)+Number(r)},K=function(e){console.log("render");for(var t=e.length,n={},a=0;a<t;a++)for(var r=0;r<t;r++){var s=e[r],c=e[a];if(n[s.stream]=n[s.stream]||Object(j.a)(Object(j.a)({},s),{},{overlap:[]}),a!==r){var i=G(s.start),o=G(s.stop),l=G(c.start),u=G(c.stop);(i>l&&i<u||o>l&&o<u)&&n[s.stream].overlap.push(c.stream)}}return n&&(Object.keys(n).map((function(e){var t=n[e].start.replace(":",".");t=60*parseFloat(t);var a=n[e].stop.replace(":",".");return a=60*parseFloat(a),A(J+=a-t),console.log("  ".concat(n[e].stream," :: ").concat(t," - ").concat(a," ")),n[e].overlap.map((function(t){var a=n[t].overlap.indexOf(e);return n[t].overlap.splice(a,1),null})),null})),Object.keys(n).map((function(e){return n[e].overlap.map((function(t){var a=n,r=a[e].start.replace(":",".");r=60*parseFloat(r);var s=a[e].stop.replace(":",".");s=60*parseFloat(s);var c=a[t].start.replace(":",".");c=60*parseFloat(c);var i=a[t].stop.replace(":",".");return(i=60*parseFloat(i))>s&&X(s-c),i<s&&X(i-r),null})),null}))),n},Q=D?Number(D)/60:0,U=z?(Number(z)-Number(D))/60:null,Y="NaN"===Number("displayStreamTotal").toString();return console.log(Y),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:f.a.container,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Streams"}),Object(i.jsxs)("h2",{children:["To add a stream, please select start & end times, then click the"," ",Object(i.jsx)("span",{style:{color:"#257aa6"},children:"Add"})," button"]}),Object(i.jsx)("form",{children:Object(i.jsxs)("div",{className:f.a.parent,children:[Object(i.jsxs)("div",{className:f.a.child,children:[Object(i.jsx)("label",{children:"Start Time: "}),Object(i.jsx)(y,{value:s,onChange:function(e){return B("start",e)},options:R})]}),Object(i.jsxs)("div",{className:f.a.child,children:[Object(i.jsx)("label",{children:"End Time: "}),Object(i.jsx)(y,{value:u,onChange:function(e){return B("stop",e)},options:R})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",onClick:function(){var e=s.split(":"),t=u.split(":"),n=new Date;n.setHours(parseInt(e[0])),n.setMinutes(parseInt(e[1]));var a=new Date;if(a.setHours(parseInt(t[0])),a.setMinutes(parseInt(t[1])),n>a)g(!0);else{var r="stream".concat(M.length+1);s&&u&&T((function(e){return[].concat(Object(p.a)(e),[{stream:r,start:s,stop:u}])})),c(""),d(""),q()}},disabled:!S&&!0,children:"Add"})})]})}),v&&Object(i.jsx)("div",{style:{paddingTop:"24px",paddingLeft:"4px",fontWeight:"500",color:"red",letterSpacing:"2px"},children:"Please select a later end time"}),Object(i.jsxs)("div",{children:[S.length>0&&Object(i.jsx)("h3",{style:{paddingLeft:"4px",paddingTop:"10px"},children:"Times"}),Object(i.jsx)("ul",{children:Object.entries(Z).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(i.jsx)("li",{"data-index":n,children:Object(i.jsxs)("div",{className:f.a.item,children:[Object(i.jsxs)("div",{className:f.a.subitem,children:[Object(i.jsxs)("span",{style:{textTransform:"capitalize",fontWeight:"500",paddingRight:"15px"},children:[a.period.stream,":"]}),Object(i.jsx)("span",{style:{textTransform:"capitalize",fontWeight:"400"},children:"start"})," ",Object(i.jsx)("span",{style:{letterSpacing:"2px",fontWeight:"600"},children:a.period.start})," ","- End"," ",Object(i.jsx)("span",{style:{letterSpacing:"2px",fontWeight:"600"},children:a.period.stop})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{style:{margin:"8px",padding:"0 8px 0 8px",borderRadius:"100px"},"aria-label":"remove todo ".concat(n),"data-index":n,onClick:V,children:"x"})})]})},a.stream)}))}),U?S.length>0&&Y&&Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:f.a.totals,children:["The total streaming time is :"," ",U?Object(i.jsx)("span",{className:f.a.greenbadge,children:U.toFixed(2)}):null," ","hour/s with"," ",Object(i.jsx)("span",{className:f.a.orangebadge,children:Q.toFixed(2)})," ","hour/s time overlapping time"]})}):null,S.length>0?Object(i.jsx)(h,{chartData:I,width:t}):null]})]})})})},S=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(w,{})})},T=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:d.a.main,children:Object(i.jsx)(S,{})})})},N=function(){return Object(i.jsxs)(a.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsx)(T,{}),Object(i.jsx)(l,{})]})},F=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(N,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(F,{})}),document.getElementById("root")),I()},3:function(e,t,n){e.exports={container:"styles_container__DitTX",parent:"styles_parent__16JTn",child:"styles_child__3o2bu",item:"styles_item__291Jl",subitem:"styles_subitem__33RMI",column1:"styles_column1__3m8df",column2:"styles_column2__1VaBo",section:"styles_section__3cw4J",totals:"styles_totals__2AyZt",greenbadge:"styles_greenbadge__1ago6",orangebadge:"styles_orangebadge__2Z5Wz"}}},[[23,1,2]]]);
//# sourceMappingURL=main.8b094f8f.chunk.js.map